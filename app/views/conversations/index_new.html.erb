<% jammit_css :conversations_new %>
<% js_bundle  :conversations_new %>
<% @body_classes << 'full-width' %>

<% content_for :page_title, t('titles.conversations', "Conversations") %>

<div class="conversations">
  <header class="panel">
    <div class="filters">
      <label for="course-filter" class="screenreader-only">
        <%= t(:filter_messages_by_course, "Filter messages by course") %>
      </label>
      <select class="course-filter" id="course-filter"></select>

      <label for="type-filter" class="screenreader-only">
        <%= t(:filter_messages_by_type, "Filter messages by type") %>
      </label>
      <select class="type-filter show-tick" id="type-filter">
        <option value="inbox"><%= t(:inbox, "Inbox") %></option>
        <option value="unread"><%= t(:unread, "Unread") %></option>
        <option value="starred"><%= t(:starred, "Starred") %></option>
        <option value="sent"><%= t(:sent, "Sent") %></option>
        <option value="archived"><%= t(:archived, "Archived") %></option>
      </select>
    </div>

    <div class="actions">
      <button class="btn" id="compose-btn">
        <span class="screenreader-only"><%= t(:new_message, "New message") %></span>
        <i class="icon-compose"></i>
      </button>

      <div class="btn-group">
        <button class="btn" id="reply-btn" disabled>
          <span class="screenreader-only"><%= t(:reply, "Reply") %></span>
          <i class="icon-reply-2"></i>
        </button>
        <button class="btn" id="reply-all-btn" disabled>
          <span class="screenreader-only"><%= t(:reply_all, "Reply all") %></span>
          <i class="icon-reply-all-2"></i>
        </button>
        <button class="btn" id="delete-btn" disabled>
          <span class="screenreader-only"><%= t(:delete_conversation, "Delete conversation") %></span>
          <i class="icon-trash"></i>
        </button>
      </div>

      <button class="al-trigger btn" id="admin-btn" disabled>
        <span class="screenreader-only"><%= t(:settings, "Settings") %></span>
        <i class="icon-settings"></i>
        <i class="icon-mini-arrow-down"></i>
      </button>
      <ul class="al-options" id="admin-menu">
        <li><a href="#" id="mark-unread-btn"><%= t(:mark_as_unread, "Mark as unread") %></a></li>
        <li><a href="#" id="forward-btn"><%= t(:forward, "Forward") %></a></li>
      </ul>
    </div>

    <div class="admin-link pull-right">
      <a id="help-btn"
         class="al-trigger help-btn"
         href="#"
         role="button"
         aria-haspopup="true"
         aria-owns="help-menu-items"
         tabindex="-1">
        <i class="icon-question"></i>
        <i class="icon-mini-arrow-down"></i>
        <span class="screenreader-only"><%= t(:help, "Help") %></span>
      </a>

      <ul id="help-menu-items"
          class="al-options"
          role="menu"
          tabindex="0"
          aria-hidden="true"
          aria-expanded="false"
          aria-activedescendant="switch-to-old-conversations-menu-item">
        <li role="presentation">
          <a id="switch-to-old-conversations-menu-item"
             href="/conversations/toggle_new_conversations"
             data-method="post"
             rel="nofollow"
             tabindex="-1"
             role="menuitem"
             title="<%= t(:switch_to_old_conversations, "Switch Back to Old Conversations") %>"><%= t(:switch_to_old_conversations, "Switch Back to Old Conversations")%></a>
        </li>
      </ul>
    </div>

    <div role="search" class="search pull-right form-search">
      <div class="ac" id="search-autocomplete">
        <div class="ac-input-box">
          <ul class="ac-token-list"></ul>
          <input type="search"
                 class="ac-input"
                 id="compose-message-recipients"
                 aria-expanded="false"
                 aria-activedescendant=""
                 aria-owns="ac-result-list-2"
                 aria-labelledby="ac-placeholder-1"
                 aria-autocomplete="list"
                 role="combobox" />

          <span class="ac-placeholder" id="ac-placeholder-1">
            <%= t(:enter_name_group_or_course, "Enter a name, group, or course") %>
          </span>

          <a href="#"
             class="ac-clear"
             title="<%= t(:clear_search, "Clear search results") %>">
            <i class="icon-x"></i>
            <span class="screenreader-only">
              <%= t(:clear_search, "Clear search results") %>
            </span>
          </a>
        </div>

        <button class="btn ac-search-btn recipient-finder"
                id="search-btn"
                type="button">
          <i class="icon-address-book"></i>
          <span class="screenreader-only">
            <%= t(:search_names_groups_courses, "Search names, groups, and courses") %>
          </span>
        </button>

        <ul class="ac-result-list"
            id="ac-result-list-2"
            aria-hidden="true" />
        </ul>
      </div>
    </div>
  </header>

  <div class="row-fluid messaging-wrapper">
    <div class="span4 message-list"></div>
    <div class="span8 message-detail"></div>
  </div>
</div>
